# This is a Databricks asset bundle definition for HeroMotoComp.
# See https://docs.databricks.com/dev-tools/bundles/index.html for documentation.
bundle:
  name: HeroMotoComp
  uuid: d23bd346-781b-4dd9-a774-81ea588ee328

include:
  - resources/*.yml
  - resources/*/*.yml

variables:
  gold_schema:
    default: gold
  raw_schema:
    default: raw
  raw_volume:
    default: bike_data
  bronze_schema:
    default: bronze
  silver_schema:
    default: silver
  env_directory:
    default: __unset__
  catalog:
    default: __unset__


# artifacts:
#   python_artifact:
#     type: whl
#     build: uv build --wheel

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://dbc-e3f9f6a4-4aca.cloud.databricks.com/
    variables :
        catalog: org_dev
        env_directory: DEV
  test:
    presets:
      source_linked_deployment : false
    mode: production
    workspace:
      host: https://dbc-e3f9f6a4-4aca.cloud.databricks.com/
      # We explicitly deploy to /Workspace/Users/yogesh025yc@gmail.com to make sure we only have a single copy.
      root_path: /Workspace/Shared/${var.env_directory}/HeroMotocomp/${bundle.name}
    variables :
      catalog: org_test
      env_directory: TEST
    permissions:
      - user_name: yogesh025yc@gmail.com
        level: CAN_MANAGE
  prod:
    presets:
      source_linked_deployment : false
    mode: production
    workspace:
      host: http://127.0.0.1:7073
      # We explicitly deploy to /Workspace/Users/yogesh025yc@gmail.com to make sure we only have a single copy.
      root_path: /Workspace/Shared/${var.env_directory}/HeroMotocomp/${bundle.name}
    variables :
      catalog: org_prod
      env_directory: PROD
    permissions:
      - user_name: yogesh025yc@gmail.com
        level: CAN_MANAGE
